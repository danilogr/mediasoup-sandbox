<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <title>Gazescape</title>
  <script>
    window.localStorage.setItem('debug', '*');
  </script>
  <script src="https://api.gazerecorder.com/GazeCloudAPI.js"></script>
  <script src="./webgazer.js"></script>
  <script src="client-bundle.js"></script>
  <link href="https://raw.githack.com/krispo/yarrow/v1.1.1/build/yarrow.css" rel="stylesheet" type="text/css" />
  
  <script src="https://d3js.org/d3-selection.v0.7.min.js"></script>
  <script src="https://raw.githack.com/krispo/svg-path-utils/v0.0.3/build/svg-path-utils.min.js"></script>
  <script src="https://raw.githack.com/krispo/yarrow/v1.1.1/build/yarrow.min.js"></script>

</head>
<body onload="Client.main()">
  
<div id="local-control">
  <div id="join-control">
    <form>
      <label for="username">Display name:</label><br>
      <input type="text" id="username" name="username"><br>
      <label for="roomname"> Room ID:</label><br>
      <input type="text" id="roomname" name="roomname"><br>
      <label for="pwd">Passcode:</label><br>
      <input type="password" id="pwd" name="pwd">
    </form>
    <button id="join-button" onclick="Client.joinRoom()">
      join room
    </button>
    <!-- <span class="arrow"> &#x21E2; </span> -->
  </div>
  <div id="viz_tools" style='display:none;'>
    <!-- <button id="send-camera" onclick="Client.sendCameraStreams()">
      send camera streams
    </button> -->
    <!-- <button id="stop-streams" onclick="Client.stopStreams()">
      stop streams
    </button> -->
    <!-- <span id="camera-info"></span> -->
    <!-- <button id="share-screen" onclick="Client.startScreenshare()">
      share screen
    </button> -->
    <!-- <form id="webgazeropts" method="get" action="calibration.html">
      <button id="cali" type="submit">Start calibrating</button>
      <button id="wg_start" type="button" onclick="Client.beginWG()">Start tracking</button>
      <button id="wg_stop" type="button" onclick="Client.endWG();">Stop tracking</button>
    </form> -->
    <button type="button" onclick="Client.startCalibration();">Start Calibrating</button>
    <button type="button" onclick="GazeCloudAPI.StopEyeTracking();">Stop Tracking</button>
    <span id="roomID"></span>
    <input id="viz1" type="checkbox" checked onchange="Client.changePeekaboo()"></input>
    <label id="viz1_label">Peekaboo</label>
    <input id="viz2" type="checkbox" checked onchange="Client.changeSpotlight()"></input>
    <label id="viz2_label">Spotlight</label>
    <input id="viz3" type="checkbox" checked onchange="Client.changeSpy()"></input>
    <label id="viz3_label">Snoop</label>
    <button id="gaze_rep" onclick="Client.changeGaze()">Toggle gaze</button>
    <span id="moderator_status">Moderator not joined</span>
    <!-- <div id="outgoing-cam-streams-ctrl">
      <div> -->
        <!-- <input id="local-cam-checkbox" type="checkbox" checked
                  onchange="Client.changeCamPaused()"></input>
           <label id="local-cam-label">camera</label> -->
        <!-- <span id="camera-producer-stats" class="track-ctrl"></span>
      </div> -->

      <!-- <div id="local-screen-pause-ctrl">
           <input id="local-screen-checkbox" type="checkbox" checked
                  onchange="Client.changeScreenPaused()"></input>
           <label id="local-screen-label">screen</label>
           <span id="screen-producer-stats" class="track-ctrl"></span>
      </div>       -->
      <!-- <div id="local-screen-audio-pause-ctrl">
           <input id="local-screen-audio-checkbox" type="checkbox" checked
                  onchange="Client.changeScreenAudioPaused()"></input>
           <label id="local-screen-audio-label">screen audio</label>
           <span id="screen-audio-producer-stats" class="track-ctrl"></span>
      </div> -->
    <!-- </div> -->
  </div>
  <span id="time"></span>
  <button id="leave-room" onclick="Client.leaveRoom()">
    leave room
  </button>

</div>

<div id="available-tracks">
</div>

<div id="remote-video" onclick="Client.showCoords(event)">
</div>

<div id="remote-audio">
</div>

<div id="gaze"
  style='position: absolute;display:none;width: 100px;height: 100px;border-radius: 50%;border: solid 2px  rgba(255, 255,255, .2);	box-shadow: 0 0 100px 3px rgba(125, 125,125, .5);	pointer-events: none;	z-index: 999999'>
</div>
<p id="gazeX" style='display: none;'></p>
<p id="gazeY" style='display: none;'></p>

</body>
</html>
